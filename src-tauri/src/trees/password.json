{
  "root_node_id": "pwd-root",
  "nodes": {
    "pwd-root": {
      "id": "pwd-root",
      "type": "question",
      "title": "Which password needs reset?",
      "content": null,
      "options": [
        { "label": "Windows/Network password", "next_node_id": "pwd-windows" },
        { "label": "Email password", "next_node_id": "pwd-email" },
        { "label": "Application password", "next_node_id": "pwd-app" },
        { "label": "Service account", "next_node_id": "pwd-service" }
      ]
    },
    "pwd-windows": {
      "id": "pwd-windows",
      "type": "question",
      "title": "Windows password reset options",
      "content": "Is Self-Service Password Reset (SSPR) available?",
      "options": [
        { "label": "Yes, have SSPR", "next_node_id": "pwd-sspr" },
        { "label": "No SSPR / Don't know", "next_node_id": "pwd-manual" },
        { "label": "SSPR not working", "next_node_id": "pwd-sspr-fail" }
      ]
    },
    "pwd-sspr": {
      "id": "pwd-sspr",
      "type": "action",
      "title": "Use Self-Service Password Reset",
      "content": "1. Go to https://passwordreset.microsoftonline.com (or your company portal)\n2. Enter username/email\n3. Complete verification (phone, email, or security questions)\n4. Create new password meeting complexity requirements\n5. Wait 5-10 minutes for sync to all systems\n6. Test login with new password",
      "options": [
        { "label": "Password reset successful", "next_node_id": "pwd-resolved" },
        { "label": "SSPR failed", "next_node_id": "pwd-sspr-fail" }
      ]
    },
    "pwd-sspr-fail": {
      "id": "pwd-sspr-fail",
      "type": "action",
      "title": "SSPR troubleshooting",
      "content": "Common SSPR issues:\n\n1. 'Not registered for SSPR' - User needs to register first at aka.ms/ssprsetup\n2. 'Account locked' - Wait 15 min or contact IT\n3. 'Verification failed' - Check phone number is current\n4. 'Password doesn't meet requirements' - Needs: 8+ chars, upper, lower, number, symbol\n5. 'Too many attempts' - Wait 30 minutes and retry",
      "options": [
        { "label": "SSPR working now", "next_node_id": "pwd-sspr" },
        { "label": "Need manual reset", "next_node_id": "pwd-manual" }
      ]
    },
    "pwd-manual": {
      "id": "pwd-manual",
      "type": "action",
      "title": "Manual password reset",
      "content": "For manual reset, IT admin must:\n\n1. Verify user identity (security questions, manager approval, or in-person)\n2. Reset password in Active Directory or Azure AD\n3. Set temporary password with 'must change at next logon'\n4. Provide temporary password securely (not via email)\n5. User changes password on first login\n\nIdentity verification required before proceeding.",
      "options": [
        { "label": "Reset complete", "next_node_id": "pwd-resolved" },
        { "label": "Can't verify identity", "next_node_id": "pwd-escalate" }
      ]
    },
    "pwd-email": {
      "id": "pwd-email",
      "type": "action",
      "title": "Email password",
      "content": "Email password is typically the same as Windows/Network password.\n\n1. If you can log into Windows, email uses same credentials\n2. For Outlook Web Access, use network credentials\n3. If using email app on phone, you may need app-specific password\n4. For Microsoft 365, password is your Azure AD password",
      "options": [
        { "label": "Same as Windows - need reset", "next_node_id": "pwd-windows" },
        { "label": "Different password needed", "next_node_id": "pwd-app" },
        { "label": "Issue resolved", "next_node_id": "pwd-resolved" }
      ]
    },
    "pwd-app": {
      "id": "pwd-app",
      "type": "question",
      "title": "Application password reset",
      "content": "Does the application have a 'Forgot Password' option?",
      "options": [
        { "label": "Yes, has forgot password", "next_node_id": "pwd-app-self" },
        { "label": "No reset option", "next_node_id": "pwd-app-admin" },
        { "label": "Uses company SSO", "next_node_id": "pwd-app-sso" }
      ]
    },
    "pwd-app-self": {
      "id": "pwd-app-self",
      "type": "action",
      "title": "Self-service app password reset",
      "content": "1. Click 'Forgot Password' on login page\n2. Enter email address associated with account\n3. Check email (including spam) for reset link\n4. Click link within time limit (usually 24 hours)\n5. Create new password\n6. If no email received, check email address is correct",
      "options": [
        { "label": "Password reset", "next_node_id": "pwd-resolved" },
        { "label": "Reset link not working", "next_node_id": "pwd-app-admin" }
      ]
    },
    "pwd-app-admin": {
      "id": "pwd-app-admin",
      "type": "action",
      "title": "Admin password reset required",
      "content": "Application requires admin to reset password:\n\n1. Identify the application owner/admin\n2. Submit request through proper channel (ticket, email)\n3. Admin will reset and provide temporary password\n4. Change password after first login\n\nFor critical apps, escalate to application support team.",
      "options": [
        { "label": "Admin reset complete", "next_node_id": "pwd-resolved" },
        { "label": "Can't reach admin", "next_node_id": "pwd-escalate" }
      ]
    },
    "pwd-app-sso": {
      "id": "pwd-app-sso",
      "type": "action",
      "title": "SSO application",
      "content": "This application uses Single Sign-On (SSO).\n\n1. No separate app password exists\n2. Uses your network/Azure AD credentials\n3. If can't log in, reset your network password\n4. Clear browser cookies and try again\n5. Try incognito/private window",
      "options": [
        { "label": "Need network password reset", "next_node_id": "pwd-windows" },
        { "label": "SSO still not working", "next_node_id": "pwd-escalate" }
      ]
    },
    "pwd-service": {
      "id": "pwd-service",
      "type": "action",
      "title": "Service account password",
      "content": "Service account passwords require change management:\n\n1. Identify all systems/applications using this account\n2. Schedule maintenance window\n3. Submit change request ticket\n4. Update password in AD and all dependent systems\n5. Test all integrations after change\n6. Document new password in secure vault\n\nNever reset service account passwords without coordination.",
      "options": [
        { "label": "Change request submitted", "next_node_id": "pwd-resolved" },
        { "label": "Emergency reset needed", "next_node_id": "pwd-escalate" }
      ]
    },
    "pwd-resolved": {
      "id": "pwd-resolved",
      "type": "terminal",
      "title": "Password reset complete",
      "content": "Password has been reset successfully. Remind user to:\n- Store password securely (password manager)\n- Don't share password with anyone\n- Change password if compromised\n- Update saved passwords on other devices"
    },
    "pwd-escalate": {
      "id": "pwd-escalate",
      "type": "terminal",
      "title": "Escalate to Identity Team",
      "content": "Escalate to Identity & Access Management team with:\n- Account username/email\n- Type of account (user, service, admin)\n- Application or system affected\n- Business justification for emergency reset\n- Manager approval if available"
    }
  }
}
